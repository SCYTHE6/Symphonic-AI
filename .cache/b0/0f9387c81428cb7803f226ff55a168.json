{"id":"vusc","dependencies":[{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\textures\\TextureMatrix.js.map","includedInParent":true,"mtime":1674916213045},{"name":"C:\\Github\\Symphonic-AI\\package.json","includedInParent":true,"mtime":1724703272135},{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1674916212608},{"name":"../math/Matrix","loc":{"line":7,"column":22,"index":631},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\textures\\TextureMatrix.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\math\\Matrix.js"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),e=require(\"../math/Matrix\"),r=a(e);function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var u=new r.default,n=function(){function e(t,a){i(this,e),this._texture=t,this.mapCoord=new r.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===a?.5:a}return e.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,a=0;a<t.length;a+=2){var i=t[a],u=t[a+1];e[a]=i*r.a+u*r.c+r.tx,e[a+1]=i*r.b+u*r.d+r.ty}return e},e.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var a=e.orig,i=e.trim;i&&(u.set(a.width/i.width,0,0,a.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(u));var n=e.baseTexture,s=this.uClampFrame,h=this.clampMargin/n.resolution,o=this.clampOffset;return s[0]=(e._frame.x+h+o)/n.width,s[1]=(e._frame.y+h+o)/n.height,s[2]=(e._frame.x+e._frame.width-h+o)/n.width,s[3]=(e._frame.y+e._frame.height-h+o)/n.height,this.uClampOffset[0]=o/n.realWidth,this.uClampOffset[1]=o/n.realHeight,!0},t(e,[{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),e}();exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":284}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":286}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":294}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":464}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tempMat","original":{"line":3,"column":6},"generated":{"line":1,"column":468}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":3,"column":16},"generated":{"line":1,"column":470}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":3,"column":16},"generated":{"line":1,"column":474}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":3,"column":16},"generated":{"line":1,"column":476}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"TextureMatrix","original":{"line":16,"column":21},"generated":{"line":1,"column":484}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":497}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":506}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texture","original":{"line":24,"column":16},"generated":{"line":1,"column":508}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"clampMargin","original":{"line":24,"column":25},"generated":{"line":1,"column":510}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":513}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":515}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":520}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":523}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_texture","original":{"line":26,"column":13},"generated":{"line":1,"column":528}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texture","original":{"line":26,"column":24},"generated":{"line":1,"column":537}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":539}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mapCoord","original":{"line":28,"column":13},"generated":{"line":1,"column":544}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":553}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":557}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":559}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":567}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uClampFrame","original":{"line":30,"column":13},"generated":{"line":1,"column":572}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":584}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"Float32Array","original":{"line":30,"column":31},"generated":{"line":1,"column":588}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":30,"column":44},"generated":{"line":1,"column":601}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":604}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uClampOffset","original":{"line":32,"column":13},"generated":{"line":1,"column":609}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":32,"column":28},"generated":{"line":1,"column":622}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"Float32Array","original":{"line":32,"column":32},"generated":{"line":1,"column":626}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":32,"column":45},"generated":{"line":1,"column":639}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":642}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_lastTextureID","original":{"line":34,"column":13},"generated":{"line":1,"column":647}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":663}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":665}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"clampOffset","original":{"line":44,"column":13},"generated":{"line":1,"column":670}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":44,"column":27},"generated":{"line":1,"column":682}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":684}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"clampMargin","original":{"line":54,"column":13},"generated":{"line":1,"column":689}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":54,"column":51},"generated":{"line":1,"column":706}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"clampMargin","original":{"line":54,"column":35},"generated":{"line":1,"column":710}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":54,"column":66},"generated":{"line":1,"column":712}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"clampMargin","original":{"line":54,"column":72},"generated":{"line":1,"column":715}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"multiplyUvs","original":{"line":78,"column":4},"generated":{"line":1,"column":736}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":78,"column":16},"generated":{"line":1,"column":757}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"out","original":{"line":78,"column":21},"generated":{"line":1,"column":759}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"undefined","original":{"line":80,"column":20},"generated":{"line":1,"column":767}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"out","original":{"line":80,"column":12},"generated":{"line":1,"column":771}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"out","original":{"line":82,"column":12},"generated":{"line":1,"column":775}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":82,"column":18},"generated":{"line":1,"column":777}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":780}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":784}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mat","original":{"line":85,"column":14},"generated":{"line":1,"column":788}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":790}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mapCoord","original":{"line":85,"column":25},"generated":{"line":1,"column":795}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"i","original":{"line":87,"column":17},"generated":{"line":1,"column":804}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":87,"column":21},"generated":{"line":1,"column":806}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"i","original":{"line":87,"column":24},"generated":{"line":1,"column":808}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":87,"column":28},"generated":{"line":1,"column":810}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"length","original":{"line":87,"column":32},"generated":{"line":1,"column":812}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"i","original":{"line":87,"column":40},"generated":{"line":1,"column":819}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":87,"column":45},"generated":{"line":1,"column":822}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":824}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":89,"column":12},"generated":{"line":1,"column":825}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x","original":{"line":89,"column":18},"generated":{"line":1,"column":829}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":89,"column":22},"generated":{"line":1,"column":831}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"i","original":{"line":89,"column":26},"generated":{"line":1,"column":833}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y","original":{"line":90,"column":18},"generated":{"line":1,"column":836}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":90,"column":22},"generated":{"line":1,"column":838}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"i","original":{"line":90,"column":26},"generated":{"line":1,"column":840}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":90,"column":30},"generated":{"line":1,"column":842}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"out","original":{"line":92,"column":12},"generated":{"line":1,"column":845}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"i","original":{"line":92,"column":16},"generated":{"line":1,"column":847}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x","original":{"line":92,"column":22},"generated":{"line":1,"column":850}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mat","original":{"line":92,"column":26},"generated":{"line":1,"column":852}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"a","original":{"line":92,"column":30},"generated":{"line":1,"column":854}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y","original":{"line":92,"column":36},"generated":{"line":1,"column":856}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mat","original":{"line":92,"column":40},"generated":{"line":1,"column":858}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"c","original":{"line":92,"column":44},"generated":{"line":1,"column":860}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mat","original":{"line":92,"column":49},"generated":{"line":1,"column":862}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tx","original":{"line":92,"column":53},"generated":{"line":1,"column":864}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"out","original":{"line":93,"column":12},"generated":{"line":1,"column":867}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"i","original":{"line":93,"column":16},"generated":{"line":1,"column":869}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":93,"column":20},"generated":{"line":1,"column":871}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x","original":{"line":93,"column":26},"generated":{"line":1,"column":874}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mat","original":{"line":93,"column":30},"generated":{"line":1,"column":876}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"b","original":{"line":93,"column":34},"generated":{"line":1,"column":878}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y","original":{"line":93,"column":40},"generated":{"line":1,"column":880}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mat","original":{"line":93,"column":44},"generated":{"line":1,"column":882}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"d","original":{"line":93,"column":48},"generated":{"line":1,"column":884}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mat","original":{"line":93,"column":53},"generated":{"line":1,"column":886}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"ty","original":{"line":93,"column":57},"generated":{"line":1,"column":888}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":891}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"out","original":{"line":96,"column":15},"generated":{"line":1,"column":898}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"update","original":{"line":104,"column":4},"generated":{"line":1,"column":913}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"forceUpdate","original":{"line":104,"column":11},"generated":{"line":1,"column":929}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":106,"column":8},"generated":{"line":1,"column":932}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":106,"column":14},"generated":{"line":1,"column":936}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":938}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_texture","original":{"line":106,"column":25},"generated":{"line":1,"column":943}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":952}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":108,"column":13},"generated":{"line":1,"column":956}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":108,"column":21},"generated":{"line":1,"column":960}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"valid","original":{"line":108,"column":25},"generated":{"line":1,"column":962}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":110,"column":12},"generated":{"line":1,"column":968}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":110,"column":19},"generated":{"line":1,"column":975}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":113,"column":8},"generated":{"line":1,"column":977}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"forceUpdate","original":{"line":113,"column":13},"generated":{"line":1,"column":981}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":114,"column":15},"generated":{"line":1,"column":984}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_lastTextureID","original":{"line":114,"column":20},"generated":{"line":1,"column":989}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":114,"column":39},"generated":{"line":1,"column":1006}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_updateID","original":{"line":114,"column":43},"generated":{"line":1,"column":1008}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":116,"column":12},"generated":{"line":1,"column":1018}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":116,"column":19},"generated":{"line":1,"column":1025}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":119,"column":8},"generated":{"line":1,"column":1027}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_lastTextureID","original":{"line":119,"column":13},"generated":{"line":1,"column":1032}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":119,"column":30},"generated":{"line":1,"column":1047}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_updateID","original":{"line":119,"column":34},"generated":{"line":1,"column":1049}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":121,"column":8},"generated":{"line":1,"column":1059}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":121,"column":14},"generated":{"line":1,"column":1063}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":121,"column":20},"generated":{"line":1,"column":1065}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_uvs","original":{"line":121,"column":24},"generated":{"line":1,"column":1067}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":123,"column":8},"generated":{"line":1,"column":1072}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mapCoord","original":{"line":123,"column":13},"generated":{"line":1,"column":1077}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"set","original":{"line":123,"column":22},"generated":{"line":1,"column":1086}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":26},"generated":{"line":1,"column":1090}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x1","original":{"line":123,"column":30},"generated":{"line":1,"column":1092}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":35},"generated":{"line":1,"column":1095}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x0","original":{"line":123,"column":39},"generated":{"line":1,"column":1097}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":43},"generated":{"line":1,"column":1100}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y1","original":{"line":123,"column":47},"generated":{"line":1,"column":1102}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":52},"generated":{"line":1,"column":1105}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y0","original":{"line":123,"column":56},"generated":{"line":1,"column":1107}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":60},"generated":{"line":1,"column":1110}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x3","original":{"line":123,"column":64},"generated":{"line":1,"column":1112}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":69},"generated":{"line":1,"column":1115}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x0","original":{"line":123,"column":73},"generated":{"line":1,"column":1117}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":77},"generated":{"line":1,"column":1120}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y3","original":{"line":123,"column":81},"generated":{"line":1,"column":1122}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":86},"generated":{"line":1,"column":1125}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y0","original":{"line":123,"column":90},"generated":{"line":1,"column":1127}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":94},"generated":{"line":1,"column":1130}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x0","original":{"line":123,"column":98},"generated":{"line":1,"column":1132}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uvs","original":{"line":123,"column":102},"generated":{"line":1,"column":1135}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y0","original":{"line":123,"column":106},"generated":{"line":1,"column":1137}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":125,"column":8},"generated":{"line":1,"column":1141}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"orig","original":{"line":125,"column":14},"generated":{"line":1,"column":1145}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":125,"column":21},"generated":{"line":1,"column":1147}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"orig","original":{"line":125,"column":25},"generated":{"line":1,"column":1149}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":126,"column":14},"generated":{"line":1,"column":1154}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":126,"column":21},"generated":{"line":1,"column":1156}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":126,"column":25},"generated":{"line":1,"column":1158}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":128,"column":12},"generated":{"line":1,"column":1163}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tempMat","original":{"line":130,"column":12},"generated":{"line":1,"column":1167}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"set","original":{"line":130,"column":20},"generated":{"line":1,"column":1169}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"orig","original":{"line":130,"column":24},"generated":{"line":1,"column":1173}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"width","original":{"line":130,"column":29},"generated":{"line":1,"column":1175}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":130,"column":37},"generated":{"line":1,"column":1181}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"width","original":{"line":130,"column":42},"generated":{"line":1,"column":1183}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":130,"column":49},"generated":{"line":1,"column":1189}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":130,"column":52},"generated":{"line":1,"column":1191}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"orig","original":{"line":130,"column":55},"generated":{"line":1,"column":1193}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"height","original":{"line":130,"column":60},"generated":{"line":1,"column":1195}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":130,"column":69},"generated":{"line":1,"column":1202}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"height","original":{"line":130,"column":74},"generated":{"line":1,"column":1204}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":131,"column":17},"generated":{"line":1,"column":1212}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x","original":{"line":131,"column":22},"generated":{"line":1,"column":1214}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":131,"column":26},"generated":{"line":1,"column":1216}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"width","original":{"line":131,"column":31},"generated":{"line":1,"column":1218}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":131,"column":39},"generated":{"line":1,"column":1225}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y","original":{"line":131,"column":44},"generated":{"line":1,"column":1227}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"trim","original":{"line":131,"column":48},"generated":{"line":1,"column":1229}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"height","original":{"line":131,"column":53},"generated":{"line":1,"column":1231}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":132,"column":12},"generated":{"line":1,"column":1239}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"mapCoord","original":{"line":132,"column":17},"generated":{"line":1,"column":1244}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"append","original":{"line":132,"column":26},"generated":{"line":1,"column":1253}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tempMat","original":{"line":132,"column":33},"generated":{"line":1,"column":1260}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":135,"column":8},"generated":{"line":1,"column":1264}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":135,"column":14},"generated":{"line":1,"column":1268}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":135,"column":24},"generated":{"line":1,"column":1270}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"baseTexture","original":{"line":135,"column":28},"generated":{"line":1,"column":1272}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"frame","original":{"line":136,"column":14},"generated":{"line":1,"column":1284}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":136,"column":22},"generated":{"line":1,"column":1286}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uClampFrame","original":{"line":136,"column":27},"generated":{"line":1,"column":1291}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"margin","original":{"line":137,"column":14},"generated":{"line":1,"column":1303}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":137,"column":23},"generated":{"line":1,"column":1305}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"clampMargin","original":{"line":137,"column":28},"generated":{"line":1,"column":1310}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":137,"column":42},"generated":{"line":1,"column":1322}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"resolution","original":{"line":137,"column":50},"generated":{"line":1,"column":1324}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"offset","original":{"line":138,"column":14},"generated":{"line":1,"column":1335}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":138,"column":23},"generated":{"line":1,"column":1337}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"clampOffset","original":{"line":138,"column":28},"generated":{"line":1,"column":1342}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":147,"column":8},"generated":{"line":1,"column":1354}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"frame","original":{"line":140,"column":8},"generated":{"line":1,"column":1361}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":140,"column":14},"generated":{"line":1,"column":1363}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":140,"column":20},"generated":{"line":1,"column":1367}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_frame","original":{"line":140,"column":24},"generated":{"line":1,"column":1369}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x","original":{"line":140,"column":31},"generated":{"line":1,"column":1376}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"margin","original":{"line":140,"column":35},"generated":{"line":1,"column":1378}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"offset","original":{"line":140,"column":44},"generated":{"line":1,"column":1380}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":140,"column":54},"generated":{"line":1,"column":1383}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"width","original":{"line":140,"column":62},"generated":{"line":1,"column":1385}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"frame","original":{"line":141,"column":8},"generated":{"line":1,"column":1391}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":141,"column":14},"generated":{"line":1,"column":1393}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":141,"column":20},"generated":{"line":1,"column":1397}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_frame","original":{"line":141,"column":24},"generated":{"line":1,"column":1399}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y","original":{"line":141,"column":31},"generated":{"line":1,"column":1406}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"margin","original":{"line":141,"column":35},"generated":{"line":1,"column":1408}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"offset","original":{"line":141,"column":44},"generated":{"line":1,"column":1410}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":141,"column":54},"generated":{"line":1,"column":1413}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"height","original":{"line":141,"column":62},"generated":{"line":1,"column":1415}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"frame","original":{"line":142,"column":8},"generated":{"line":1,"column":1422}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":142,"column":14},"generated":{"line":1,"column":1424}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":142,"column":20},"generated":{"line":1,"column":1428}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_frame","original":{"line":142,"column":24},"generated":{"line":1,"column":1430}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"x","original":{"line":142,"column":31},"generated":{"line":1,"column":1437}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":142,"column":35},"generated":{"line":1,"column":1439}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_frame","original":{"line":142,"column":39},"generated":{"line":1,"column":1441}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"width","original":{"line":142,"column":46},"generated":{"line":1,"column":1448}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"margin","original":{"line":142,"column":54},"generated":{"line":1,"column":1454}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"offset","original":{"line":142,"column":63},"generated":{"line":1,"column":1456}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":142,"column":73},"generated":{"line":1,"column":1459}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"width","original":{"line":142,"column":81},"generated":{"line":1,"column":1461}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"frame","original":{"line":143,"column":8},"generated":{"line":1,"column":1467}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":143,"column":14},"generated":{"line":1,"column":1469}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":143,"column":20},"generated":{"line":1,"column":1473}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_frame","original":{"line":143,"column":24},"generated":{"line":1,"column":1475}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"y","original":{"line":143,"column":31},"generated":{"line":1,"column":1482}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"tex","original":{"line":143,"column":35},"generated":{"line":1,"column":1484}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_frame","original":{"line":143,"column":39},"generated":{"line":1,"column":1486}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"height","original":{"line":143,"column":46},"generated":{"line":1,"column":1493}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"margin","original":{"line":143,"column":55},"generated":{"line":1,"column":1500}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"offset","original":{"line":143,"column":64},"generated":{"line":1,"column":1502}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":143,"column":74},"generated":{"line":1,"column":1505}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"height","original":{"line":143,"column":82},"generated":{"line":1,"column":1507}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":144,"column":8},"generated":{"line":1,"column":1514}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uClampOffset","original":{"line":144,"column":13},"generated":{"line":1,"column":1519}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":144,"column":26},"generated":{"line":1,"column":1532}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"offset","original":{"line":144,"column":31},"generated":{"line":1,"column":1535}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":144,"column":40},"generated":{"line":1,"column":1537}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"realWidth","original":{"line":144,"column":48},"generated":{"line":1,"column":1539}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":145,"column":8},"generated":{"line":1,"column":1549}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"uClampOffset","original":{"line":145,"column":13},"generated":{"line":1,"column":1554}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":145,"column":26},"generated":{"line":1,"column":1567}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"offset","original":{"line":145,"column":31},"generated":{"line":1,"column":1570}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"texBase","original":{"line":145,"column":40},"generated":{"line":1,"column":1572}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"realHeight","original":{"line":145,"column":48},"generated":{"line":1,"column":1574}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":147,"column":15},"generated":{"line":1,"column":1586}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":1624}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":63,"column":15},"generated":{"line":1,"column":1631}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_texture","original":{"line":63,"column":20},"generated":{"line":1,"column":1636}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"value","original":{"line":66,"column":16},"generated":{"line":1,"column":1659}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1662}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_texture","original":{"line":68,"column":13},"generated":{"line":1,"column":1667}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"value","original":{"line":68,"column":24},"generated":{"line":1,"column":1676}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1678}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"_lastTextureID","original":{"line":69,"column":13},"generated":{"line":1,"column":1683}},{"source":"../../../src/core/textures/TextureMatrix.js","name":null,"original":{"line":69,"column":31},"generated":{"line":1,"column":1699}},{"source":"../../../src/core/textures/TextureMatrix.js","name":"TextureMatrix","original":{"line":16,"column":21},"generated":{"line":1,"column":1726}}],"sources":{"../../../src/core/textures/TextureMatrix.js":"import { default as Matrix } from '../math/Matrix';\n\nconst tempMat = new Matrix();\n\n/**\n * Class controls uv transform and frame clamp for texture\n * Can be used in Texture \"transform\" field, or separately, you can use different clamp settings on the same texture.\n * If you want to add support for texture region of certain feature or filter, that's what you're looking for.\n *\n * @see PIXI.Texture\n * @see PIXI.mesh.Mesh\n * @see PIXI.extras.TilingSprite\n * @class\n * @memberof PIXI\n */\nexport default class TextureMatrix\n{\n    /**\n     *\n     * @param {PIXI.Texture} texture observed texture\n     * @param {number} [clampMargin] Changes frame clamping, 0.5 by default. Use -0.5 for extra border.\n     * @constructor\n     */\n    constructor(texture, clampMargin)\n    {\n        this._texture = texture;\n\n        this.mapCoord = new Matrix();\n\n        this.uClampFrame = new Float32Array(4);\n\n        this.uClampOffset = new Float32Array(2);\n\n        this._lastTextureID = -1;\n\n        /**\n         * Changes frame clamping\n         * Works with TilingSprite and Mesh\n         * Change to 1.5 if you texture has repeated right and bottom lines, that leads to smoother borders\n         *\n         * @default 0\n         * @member {number}\n         */\n        this.clampOffset = 0;\n\n        /**\n         * Changes frame clamping\n         * Works with TilingSprite and Mesh\n         * Change to -0.5 to add a pixel to the edge, recommended for transparent trimmed textures in atlas\n         *\n         * @default 0.5\n         * @member {number}\n         */\n        this.clampMargin = (typeof clampMargin === 'undefined') ? 0.5 : clampMargin;\n    }\n\n    /**\n     * texture property\n     * @member {PIXI.Texture}\n     */\n    get texture()\n    {\n        return this._texture;\n    }\n\n    set texture(value) // eslint-disable-line require-jsdoc\n    {\n        this._texture = value;\n        this._lastTextureID = -1;\n    }\n\n    /**\n     * Multiplies uvs array to transform\n     * @param {Float32Array} uvs mesh uvs\n     * @param {Float32Array} [out=uvs] output\n     * @returns {Float32Array} output\n     */\n    multiplyUvs(uvs, out)\n    {\n        if (out === undefined)\n        {\n            out = uvs;\n        }\n\n        const mat = this.mapCoord;\n\n        for (let i = 0; i < uvs.length; i += 2)\n        {\n            const x = uvs[i];\n            const y = uvs[i + 1];\n\n            out[i] = (x * mat.a) + (y * mat.c) + mat.tx;\n            out[i + 1] = (x * mat.b) + (y * mat.d) + mat.ty;\n        }\n\n        return out;\n    }\n\n    /**\n     * updates matrices if texture was changed\n     * @param {boolean} forceUpdate if true, matrices will be updated any case\n     * @returns {boolean} whether or not it was updated\n     */\n    update(forceUpdate)\n    {\n        const tex = this._texture;\n\n        if (!tex || !tex.valid)\n        {\n            return false;\n        }\n\n        if (!forceUpdate\n            && this._lastTextureID === tex._updateID)\n        {\n            return false;\n        }\n\n        this._lastTextureID = tex._updateID;\n\n        const uvs = tex._uvs;\n\n        this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);\n\n        const orig = tex.orig;\n        const trim = tex.trim;\n\n        if (trim)\n        {\n            tempMat.set(orig.width / trim.width, 0, 0, orig.height / trim.height,\n                -trim.x / trim.width, -trim.y / trim.height);\n            this.mapCoord.append(tempMat);\n        }\n\n        const texBase = tex.baseTexture;\n        const frame = this.uClampFrame;\n        const margin = this.clampMargin / texBase.resolution;\n        const offset = this.clampOffset;\n\n        frame[0] = (tex._frame.x + margin + offset) / texBase.width;\n        frame[1] = (tex._frame.y + margin + offset) / texBase.height;\n        frame[2] = (tex._frame.x + tex._frame.width - margin + offset) / texBase.width;\n        frame[3] = (tex._frame.y + tex._frame.height - margin + offset) / texBase.height;\n        this.uClampOffset[0] = offset / texBase.realWidth;\n        this.uClampOffset[1] = offset / texBase.realHeight;\n\n        return true;\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"e69e9fb6b8b06b3ce3da2369f7f64273","cacheData":{"env":{}}}