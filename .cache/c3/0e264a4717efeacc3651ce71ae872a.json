{"id":"QFWM","dependencies":[{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\extract\\canvas\\CanvasExtract.js.map","includedInParent":true,"mtime":1674916213109},{"name":"C:\\Github\\Symphonic-AI\\package.json","includedInParent":true,"mtime":1724703272135},{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1674916212608},{"name":"../../core","loc":{"line":5,"column":20,"index":63},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\extract\\canvas\\CanvasExtract.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\index.js"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var e=require(\"../../core\"),t=r(e);function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var a=new t.Rectangle,o=function(){function e(t){n(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var r=this.renderer,n=void 0,o=void 0,i=void 0,s=void 0;e&&(s=e instanceof t.RenderTexture?e:r.generateTexture(e)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,i=s.frame):(n=r.rootContext,(i=a).width=this.renderer.width,i.height=this.renderer.height);var u=i.width*o,d=i.height*o,c=new t.CanvasRenderTarget(u,d,1),h=n.getImageData(i.x*o,i.y*o,u,d);return c.context.putImageData(h,0,0),c.canvas},e.prototype.pixels=function(e){var r=this.renderer,n=void 0,o=void 0,i=void 0,s=void 0;return e&&(s=e instanceof t.RenderTexture?e:r.generateTexture(e)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,i=s.frame):(n=r.rootContext,(i=a).width=r.width,i.height=r.height),n.getImageData(0,0,i.width*o,i.height*o).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();exports.default=o,t.CanvasRenderer.registerPlugin(\"extract\",o);"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":39}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":41}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":49}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"core","original":{"line":1,"column":12},"generated":{"line":1,"column":63}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":317}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"TEMP_RECT","original":{"line":3,"column":6},"generated":{"line":1,"column":321}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":3,"column":18},"generated":{"line":1,"column":323}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"core","original":{"line":3,"column":22},"generated":{"line":1,"column":327}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"Rectangle","original":{"line":3,"column":27},"generated":{"line":1,"column":329}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"CanvasExtract","original":{"line":13,"column":21},"generated":{"line":1,"column":339}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":352}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":361}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":18,"column":16},"generated":{"line":1,"column":363}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":366}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":368}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":373}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":376}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":20,"column":13},"generated":{"line":1,"column":381}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":20,"column":24},"generated":{"line":1,"column":390}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":28,"column":8},"generated":{"line":1,"column":392}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"extract","original":{"line":28,"column":17},"generated":{"line":1,"column":394}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":402}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"image","original":{"line":38,"column":4},"generated":{"line":1,"column":426}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":38,"column":10},"generated":{"line":1,"column":441}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":444}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"image","original":{"line":40,"column":14},"generated":{"line":1,"column":448}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":450}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"Image","original":{"line":40,"column":26},"generated":{"line":1,"column":454}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":460}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"image","original":{"line":42,"column":8},"generated":{"line":1,"column":467}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"src","original":{"line":42,"column":14},"generated":{"line":1,"column":469}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":473}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"base64","original":{"line":42,"column":25},"generated":{"line":1,"column":478}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":42,"column":32},"generated":{"line":1,"column":485}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"image","original":{"line":44,"column":15},"generated":{"line":1,"column":488}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"base64","original":{"line":55,"column":4},"generated":{"line":1,"column":503}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":55,"column":11},"generated":{"line":1,"column":519}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":522}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":57,"column":15},"generated":{"line":1,"column":529}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvas","original":{"line":57,"column":20},"generated":{"line":1,"column":534}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":57,"column":27},"generated":{"line":1,"column":541}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"toDataURL","original":{"line":57,"column":35},"generated":{"line":1,"column":544}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvas","original":{"line":67,"column":4},"generated":{"line":1,"column":569}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":67,"column":11},"generated":{"line":1,"column":585}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":588}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":69,"column":14},"generated":{"line":1,"column":592}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":69,"column":25},"generated":{"line":1,"column":594}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":69,"column":30},"generated":{"line":1,"column":599}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":70,"column":12},"generated":{"line":1,"column":608}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":70,"column":12},"generated":{"line":1,"column":615}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":71,"column":12},"generated":{"line":1,"column":617}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":71,"column":12},"generated":{"line":1,"column":624}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":72,"column":12},"generated":{"line":1,"column":626}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":72,"column":12},"generated":{"line":1,"column":633}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":73,"column":12},"generated":{"line":1,"column":635}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":73,"column":12},"generated":{"line":1,"column":642}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":75,"column":12},"generated":{"line":1,"column":644}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":79,"column":16},"generated":{"line":1,"column":648}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":77,"column":16},"generated":{"line":1,"column":650}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"core","original":{"line":77,"column":34},"generated":{"line":1,"column":663}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"RenderTexture","original":{"line":77,"column":39},"generated":{"line":1,"column":665}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":79,"column":32},"generated":{"line":1,"column":679}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":83,"column":32},"generated":{"line":1,"column":681}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"generateTexture","original":{"line":83,"column":41},"generated":{"line":1,"column":683}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":83,"column":57},"generated":{"line":1,"column":699}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":87,"column":12},"generated":{"line":1,"column":703}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":89,"column":12},"generated":{"line":1,"column":706}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":89,"column":22},"generated":{"line":1,"column":708}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"baseTexture","original":{"line":89,"column":36},"generated":{"line":1,"column":710}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"_canvasRenderTarget","original":{"line":89,"column":48},"generated":{"line":1,"column":722}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":89,"column":68},"generated":{"line":1,"column":742}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":90,"column":12},"generated":{"line":1,"column":750}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":90,"column":25},"generated":{"line":1,"column":752}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"baseTexture","original":{"line":90,"column":39},"generated":{"line":1,"column":754}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"_canvasRenderTarget","original":{"line":90,"column":51},"generated":{"line":1,"column":766}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":90,"column":71},"generated":{"line":1,"column":786}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":91,"column":12},"generated":{"line":1,"column":797}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":91,"column":20},"generated":{"line":1,"column":799}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":91,"column":34},"generated":{"line":1,"column":801}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":95,"column":12},"generated":{"line":1,"column":809}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":95,"column":22},"generated":{"line":1,"column":811}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"rootContext","original":{"line":95,"column":31},"generated":{"line":1,"column":813}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":97,"column":12},"generated":{"line":1,"column":826}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"TEMP_RECT","original":{"line":97,"column":20},"generated":{"line":1,"column":828}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":98,"column":18},"generated":{"line":1,"column":831}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":98,"column":26},"generated":{"line":1,"column":837}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":98,"column":31},"generated":{"line":1,"column":842}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":98,"column":40},"generated":{"line":1,"column":851}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":99,"column":12},"generated":{"line":1,"column":857}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":99,"column":18},"generated":{"line":1,"column":859}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":99,"column":27},"generated":{"line":1,"column":866}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":99,"column":32},"generated":{"line":1,"column":871}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":99,"column":41},"generated":{"line":1,"column":880}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":888}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":102,"column":14},"generated":{"line":1,"column":892}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":102,"column":22},"generated":{"line":1,"column":894}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":102,"column":28},"generated":{"line":1,"column":896}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":102,"column":36},"generated":{"line":1,"column":902}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":103,"column":14},"generated":{"line":1,"column":904}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":103,"column":23},"generated":{"line":1,"column":906}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":103,"column":29},"generated":{"line":1,"column":908}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":103,"column":38},"generated":{"line":1,"column":915}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvasBuffer","original":{"line":105,"column":14},"generated":{"line":1,"column":917}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":105,"column":29},"generated":{"line":1,"column":919}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"core","original":{"line":105,"column":33},"generated":{"line":1,"column":923}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"CanvasRenderTarget","original":{"line":105,"column":38},"generated":{"line":1,"column":925}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":105,"column":57},"generated":{"line":1,"column":944}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":105,"column":64},"generated":{"line":1,"column":946}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":105,"column":72},"generated":{"line":1,"column":948}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvasData","original":{"line":106,"column":14},"generated":{"line":1,"column":951}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":106,"column":27},"generated":{"line":1,"column":953}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"getImageData","original":{"line":106,"column":35},"generated":{"line":1,"column":955}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":106,"column":48},"generated":{"line":1,"column":968}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"x","original":{"line":106,"column":54},"generated":{"line":1,"column":970}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":106,"column":58},"generated":{"line":1,"column":972}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":106,"column":70},"generated":{"line":1,"column":974}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"y","original":{"line":106,"column":76},"generated":{"line":1,"column":976}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":106,"column":80},"generated":{"line":1,"column":978}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":106,"column":92},"generated":{"line":1,"column":980}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":106,"column":99},"generated":{"line":1,"column":982}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":985}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvasBuffer","original":{"line":108,"column":8},"generated":{"line":1,"column":992}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":108,"column":21},"generated":{"line":1,"column":994}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"putImageData","original":{"line":108,"column":29},"generated":{"line":1,"column":1002}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvasData","original":{"line":108,"column":42},"generated":{"line":1,"column":1015}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":108,"column":54},"generated":{"line":1,"column":1017}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":108,"column":57},"generated":{"line":1,"column":1019}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvasBuffer","original":{"line":111,"column":15},"generated":{"line":1,"column":1022}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"canvas","original":{"line":111,"column":28},"generated":{"line":1,"column":1024}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"pixels","original":{"line":122,"column":4},"generated":{"line":1,"column":1044}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":122,"column":11},"generated":{"line":1,"column":1060}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1063}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":124,"column":14},"generated":{"line":1,"column":1067}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":124,"column":25},"generated":{"line":1,"column":1069}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":124,"column":30},"generated":{"line":1,"column":1074}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":125,"column":12},"generated":{"line":1,"column":1083}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":125,"column":12},"generated":{"line":1,"column":1090}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":126,"column":12},"generated":{"line":1,"column":1092}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":126,"column":12},"generated":{"line":1,"column":1099}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":127,"column":12},"generated":{"line":1,"column":1101}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":127,"column":12},"generated":{"line":1,"column":1108}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":128,"column":12},"generated":{"line":1,"column":1110}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":128,"column":12},"generated":{"line":1,"column":1117}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":157,"column":8},"generated":{"line":1,"column":1119}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":130,"column":12},"generated":{"line":1,"column":1126}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":134,"column":16},"generated":{"line":1,"column":1130}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":132,"column":16},"generated":{"line":1,"column":1132}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"core","original":{"line":132,"column":34},"generated":{"line":1,"column":1145}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"RenderTexture","original":{"line":132,"column":39},"generated":{"line":1,"column":1147}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":134,"column":32},"generated":{"line":1,"column":1161}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":138,"column":32},"generated":{"line":1,"column":1163}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"generateTexture","original":{"line":138,"column":41},"generated":{"line":1,"column":1165}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"target","original":{"line":138,"column":57},"generated":{"line":1,"column":1181}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":142,"column":12},"generated":{"line":1,"column":1185}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":144,"column":12},"generated":{"line":1,"column":1188}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":144,"column":22},"generated":{"line":1,"column":1190}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"baseTexture","original":{"line":144,"column":36},"generated":{"line":1,"column":1192}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"_canvasRenderTarget","original":{"line":144,"column":48},"generated":{"line":1,"column":1204}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":144,"column":68},"generated":{"line":1,"column":1224}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":145,"column":12},"generated":{"line":1,"column":1232}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":145,"column":25},"generated":{"line":1,"column":1234}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"baseTexture","original":{"line":145,"column":39},"generated":{"line":1,"column":1236}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"_canvasRenderTarget","original":{"line":145,"column":51},"generated":{"line":1,"column":1248}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":145,"column":71},"generated":{"line":1,"column":1268}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":146,"column":12},"generated":{"line":1,"column":1279}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderTexture","original":{"line":146,"column":20},"generated":{"line":1,"column":1281}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":146,"column":34},"generated":{"line":1,"column":1283}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":150,"column":12},"generated":{"line":1,"column":1291}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":150,"column":22},"generated":{"line":1,"column":1293}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"rootContext","original":{"line":150,"column":31},"generated":{"line":1,"column":1295}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":152,"column":12},"generated":{"line":1,"column":1308}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"TEMP_RECT","original":{"line":152,"column":20},"generated":{"line":1,"column":1310}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":153,"column":18},"generated":{"line":1,"column":1313}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":153,"column":26},"generated":{"line":1,"column":1319}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":153,"column":35},"generated":{"line":1,"column":1321}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":154,"column":12},"generated":{"line":1,"column":1327}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":154,"column":18},"generated":{"line":1,"column":1329}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":154,"column":27},"generated":{"line":1,"column":1336}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":154,"column":36},"generated":{"line":1,"column":1338}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"context","original":{"line":157,"column":15},"generated":{"line":1,"column":1346}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"getImageData","original":{"line":157,"column":23},"generated":{"line":1,"column":1348}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":157,"column":36},"generated":{"line":1,"column":1361}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":157,"column":39},"generated":{"line":1,"column":1363}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":157,"column":42},"generated":{"line":1,"column":1365}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"width","original":{"line":157,"column":48},"generated":{"line":1,"column":1367}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":157,"column":56},"generated":{"line":1,"column":1373}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"frame","original":{"line":157,"column":68},"generated":{"line":1,"column":1375}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"height","original":{"line":157,"column":74},"generated":{"line":1,"column":1377}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"resolution","original":{"line":157,"column":83},"generated":{"line":1,"column":1384}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"data","original":{"line":157,"column":95},"generated":{"line":1,"column":1387}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"destroy","original":{"line":164,"column":4},"generated":{"line":1,"column":1405}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":166,"column":8},"generated":{"line":1,"column":1424}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":166,"column":13},"generated":{"line":1,"column":1429}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"extract","original":{"line":166,"column":22},"generated":{"line":1,"column":1438}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":166,"column":32},"generated":{"line":1,"column":1446}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":167,"column":8},"generated":{"line":1,"column":1451}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"renderer","original":{"line":167,"column":13},"generated":{"line":1,"column":1456}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":167,"column":24},"generated":{"line":1,"column":1465}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"CanvasExtract","original":{"line":13,"column":21},"generated":{"line":1,"column":1492}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"core","original":{"line":171,"column":0},"generated":{"line":1,"column":1494}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"CanvasRenderer","original":{"line":171,"column":5},"generated":{"line":1,"column":1496}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"registerPlugin","original":{"line":171,"column":20},"generated":{"line":1,"column":1511}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":null,"original":{"line":171,"column":35},"generated":{"line":1,"column":1526}},{"source":"../../../src/extract/canvas/CanvasExtract.js","name":"CanvasExtract","original":{"line":171,"column":46},"generated":{"line":1,"column":1536}}],"sources":{"../../../src/extract/canvas/CanvasExtract.js":"import * as core from '../../core';\n\nconst TEMP_RECT = new core.Rectangle();\n\n/**\n * The extract manager provides functionality to export content from the renderers.\n *\n * An instance of this class is automatically created by default, and can be found at renderer.plugins.extract\n *\n * @class\n * @memberof PIXI.extract\n */\nexport default class CanvasExtract\n{\n    /**\n     * @param {PIXI.CanvasRenderer} renderer - A reference to the current renderer\n     */\n    constructor(renderer)\n    {\n        this.renderer = renderer;\n        /**\n         * Collection of methods for extracting data (image, pixels, etc.) from a display object or render texture\n         *\n         * @member {PIXI.extract.CanvasExtract} extract\n         * @memberof PIXI.CanvasRenderer#\n         * @see PIXI.extract.CanvasExtract\n         */\n        renderer.extract = this;\n    }\n\n    /**\n     * Will return a HTML Image of the target\n     *\n     * @param {PIXI.DisplayObject|PIXI.RenderTexture} target - A displayObject or renderTexture\n     *  to convert. If left empty will use use the main renderer\n     * @return {HTMLImageElement} HTML Image of the target\n     */\n    image(target)\n    {\n        const image = new Image();\n\n        image.src = this.base64(target);\n\n        return image;\n    }\n\n    /**\n     * Will return a a base64 encoded string of this target. It works by calling\n     *  `CanvasExtract.getCanvas` and then running toDataURL on that.\n     *\n     * @param {PIXI.DisplayObject|PIXI.RenderTexture} target - A displayObject or renderTexture\n     *  to convert. If left empty will use use the main renderer\n     * @return {string} A base64 encoded string of the texture.\n     */\n    base64(target)\n    {\n        return this.canvas(target).toDataURL();\n    }\n\n    /**\n     * Creates a Canvas element, renders this target to it and then returns it.\n     *\n     * @param {PIXI.DisplayObject|PIXI.RenderTexture} target - A displayObject or renderTexture\n     *  to convert. If left empty will use use the main renderer\n     * @return {HTMLCanvasElement} A Canvas element with the texture rendered on.\n     */\n    canvas(target)\n    {\n        const renderer = this.renderer;\n        let context;\n        let resolution;\n        let frame;\n        let renderTexture;\n\n        if (target)\n        {\n            if (target instanceof core.RenderTexture)\n            {\n                renderTexture = target;\n            }\n            else\n            {\n                renderTexture = renderer.generateTexture(target);\n            }\n        }\n\n        if (renderTexture)\n        {\n            context = renderTexture.baseTexture._canvasRenderTarget.context;\n            resolution = renderTexture.baseTexture._canvasRenderTarget.resolution;\n            frame = renderTexture.frame;\n        }\n        else\n        {\n            context = renderer.rootContext;\n\n            frame = TEMP_RECT;\n            frame.width = this.renderer.width;\n            frame.height = this.renderer.height;\n        }\n\n        const width = frame.width * resolution;\n        const height = frame.height * resolution;\n\n        const canvasBuffer = new core.CanvasRenderTarget(width, height, 1);\n        const canvasData = context.getImageData(frame.x * resolution, frame.y * resolution, width, height);\n\n        canvasBuffer.context.putImageData(canvasData, 0, 0);\n\n        // send the canvas back..\n        return canvasBuffer.canvas;\n    }\n\n    /**\n     * Will return a one-dimensional array containing the pixel data of the entire texture in RGBA\n     * order, with integer values between 0 and 255 (included).\n     *\n     * @param {PIXI.DisplayObject|PIXI.RenderTexture} target - A displayObject or renderTexture\n     *  to convert. If left empty will use use the main renderer\n     * @return {Uint8ClampedArray} One-dimensional array containing the pixel data of the entire texture\n     */\n    pixels(target)\n    {\n        const renderer = this.renderer;\n        let context;\n        let resolution;\n        let frame;\n        let renderTexture;\n\n        if (target)\n        {\n            if (target instanceof core.RenderTexture)\n            {\n                renderTexture = target;\n            }\n            else\n            {\n                renderTexture = renderer.generateTexture(target);\n            }\n        }\n\n        if (renderTexture)\n        {\n            context = renderTexture.baseTexture._canvasRenderTarget.context;\n            resolution = renderTexture.baseTexture._canvasRenderTarget.resolution;\n            frame = renderTexture.frame;\n        }\n        else\n        {\n            context = renderer.rootContext;\n\n            frame = TEMP_RECT;\n            frame.width = renderer.width;\n            frame.height = renderer.height;\n        }\n\n        return context.getImageData(0, 0, frame.width * resolution, frame.height * resolution).data;\n    }\n\n    /**\n     * Destroys the extract\n     *\n     */\n    destroy()\n    {\n        this.renderer.extract = null;\n        this.renderer = null;\n    }\n}\n\ncore.CanvasRenderer.registerPlugin('extract', CanvasExtract);\n"},"lineCount":null}},"error":null,"hash":"d6a1819243e08d545121e1bf8dcf2831","cacheData":{"env":{}}}