{"id":"ESZJ","dependencies":[{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\loaders\\spritesheetParser.js.map","includedInParent":true,"mtime":1674916213269},{"name":"C:\\Github\\Symphonic-AI\\package.json","includedInParent":true,"mtime":1724703272135},{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1674916212608},{"name":"resource-loader","loc":{"line":45,"column":30,"index":1377},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\loaders\\spritesheetParser.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\resource-loader\\lib\\index.js"},{"name":"url","loc":{"line":47,"column":19,"index":1417},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\loaders\\spritesheetParser.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\url\\url.js"},{"name":"../core","loc":{"line":51,"column":20,"index":1489},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\loaders\\spritesheetParser.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\index.js"}],"generated":{"js":"\"use strict\";exports.__esModule=!0,exports.default=function(){return function(r,t){var s=r.name+\"_image\";if(r.data&&r.type===e.Resource.TYPE.JSON&&r.data.frames&&!this.resources[s]){var i={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},o=u(r,this.baseUrl);this.add(s,o,i,function(e){if(e.error)t(e.error);else{var s=new a.Spritesheet(e.texture.baseTexture,r.data,r.url);s.parse(function(){r.spritesheet=s,r.textures=s.textures,t()})}})}else t()}},exports.getResourcePath=u;var e=require(\"resource-loader\"),r=require(\"url\"),t=s(r),a=require(\"../core\");function s(e){return e&&e.__esModule?e:{default:e}}function u(e,r){return e.isDataUrl?e.data.meta.image:t.default.resolve(e.url.replace(r,\"\"),e.data.meta.image)}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":5,"column":15},"generated":{"line":1,"column":51}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":7,"column":4},"generated":{"line":1,"column":62}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":7,"column":11},"generated":{"line":1,"column":69}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":7,"column":38},"generated":{"line":1,"column":78}},{"source":"../../src/loaders/spritesheetParser.js","name":"next","original":{"line":7,"column":48},"generated":{"line":1,"column":80}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":83}},{"source":"../../src/loaders/spritesheetParser.js","name":"imageResourceName","original":{"line":9,"column":14},"generated":{"line":1,"column":87}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":9,"column":37},"generated":{"line":1,"column":89}},{"source":"../../src/loaders/spritesheetParser.js","name":"name","original":{"line":9,"column":46},"generated":{"line":1,"column":91}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":9,"column":14},"generated":{"line":1,"column":96}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":105}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":12,"column":13},"generated":{"line":1,"column":108}},{"source":"../../src/loaders/spritesheetParser.js","name":"data","original":{"line":12,"column":22},"generated":{"line":1,"column":110}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":13,"column":15},"generated":{"line":1,"column":116}},{"source":"../../src/loaders/spritesheetParser.js","name":"type","original":{"line":13,"column":24},"generated":{"line":1,"column":118}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":13,"column":33},"generated":{"line":1,"column":125}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":13,"column":33},"generated":{"line":1,"column":127}},{"source":"../../src/loaders/spritesheetParser.js","name":"TYPE","original":{"line":13,"column":42},"generated":{"line":1,"column":136}},{"source":"../../src/loaders/spritesheetParser.js","name":"JSON","original":{"line":13,"column":47},"generated":{"line":1,"column":141}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":14,"column":16},"generated":{"line":1,"column":147}},{"source":"../../src/loaders/spritesheetParser.js","name":"data","original":{"line":14,"column":25},"generated":{"line":1,"column":149}},{"source":"../../src/loaders/spritesheetParser.js","name":"frames","original":{"line":14,"column":30},"generated":{"line":1,"column":154}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":15,"column":15},"generated":{"line":1,"column":163}},{"source":"../../src/loaders/spritesheetParser.js","name":"resources","original":{"line":15,"column":20},"generated":{"line":1,"column":168}},{"source":"../../src/loaders/spritesheetParser.js","name":"imageResourceName","original":{"line":15,"column":30},"generated":{"line":1,"column":178}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":181}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":182}},{"source":"../../src/loaders/spritesheetParser.js","name":"loadOptions","original":{"line":23,"column":14},"generated":{"line":1,"column":186}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":23,"column":28},"generated":{"line":1,"column":188}},{"source":"../../src/loaders/spritesheetParser.js","name":"crossOrigin","original":{"line":24,"column":12},"generated":{"line":1,"column":189}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":24,"column":25},"generated":{"line":1,"column":201}},{"source":"../../src/loaders/spritesheetParser.js","name":"crossOrigin","original":{"line":24,"column":34},"generated":{"line":1,"column":203}},{"source":"../../src/loaders/spritesheetParser.js","name":"metadata","original":{"line":25,"column":12},"generated":{"line":1,"column":215}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":25,"column":22},"generated":{"line":1,"column":224}},{"source":"../../src/loaders/spritesheetParser.js","name":"metadata","original":{"line":25,"column":31},"generated":{"line":1,"column":226}},{"source":"../../src/loaders/spritesheetParser.js","name":"imageMetadata","original":{"line":25,"column":40},"generated":{"line":1,"column":235}},{"source":"../../src/loaders/spritesheetParser.js","name":"parentResource","original":{"line":26,"column":12},"generated":{"line":1,"column":249}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":26,"column":28},"generated":{"line":1,"column":264}},{"source":"../../src/loaders/spritesheetParser.js","name":"resourcePath","original":{"line":29,"column":14},"generated":{"line":1,"column":267}},{"source":"../../src/loaders/spritesheetParser.js","name":"getResourcePath","original":{"line":29,"column":29},"generated":{"line":1,"column":269}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":29,"column":45},"generated":{"line":1,"column":271}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":29,"column":55},"generated":{"line":1,"column":273}},{"source":"../../src/loaders/spritesheetParser.js","name":"baseUrl","original":{"line":29,"column":60},"generated":{"line":1,"column":278}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":287}},{"source":"../../src/loaders/spritesheetParser.js","name":"add","original":{"line":32,"column":13},"generated":{"line":1,"column":292}},{"source":"../../src/loaders/spritesheetParser.js","name":"imageResourceName","original":{"line":32,"column":17},"generated":{"line":1,"column":296}},{"source":"../../src/loaders/spritesheetParser.js","name":"resourcePath","original":{"line":32,"column":36},"generated":{"line":1,"column":298}},{"source":"../../src/loaders/spritesheetParser.js","name":"loadOptions","original":{"line":32,"column":50},"generated":{"line":1,"column":300}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":32,"column":63},"generated":{"line":1,"column":302}},{"source":"../../src/loaders/spritesheetParser.js","name":"res","original":{"line":32,"column":84},"generated":{"line":1,"column":311}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":314}},{"source":"../../src/loaders/spritesheetParser.js","name":"res","original":{"line":34,"column":16},"generated":{"line":1,"column":317}},{"source":"../../src/loaders/spritesheetParser.js","name":"error","original":{"line":34,"column":20},"generated":{"line":1,"column":319}},{"source":"../../src/loaders/spritesheetParser.js","name":"next","original":{"line":36,"column":16},"generated":{"line":1,"column":325}},{"source":"../../src/loaders/spritesheetParser.js","name":"res","original":{"line":36,"column":21},"generated":{"line":1,"column":327}},{"source":"../../src/loaders/spritesheetParser.js","name":"error","original":{"line":36,"column":25},"generated":{"line":1,"column":329}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":340}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":341}},{"source":"../../src/loaders/spritesheetParser.js","name":"spritesheet","original":{"line":41,"column":18},"generated":{"line":1,"column":345}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":347}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":351}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":353}},{"source":"../../src/loaders/spritesheetParser.js","name":"res","original":{"line":42,"column":16},"generated":{"line":1,"column":365}},{"source":"../../src/loaders/spritesheetParser.js","name":"texture","original":{"line":42,"column":20},"generated":{"line":1,"column":367}},{"source":"../../src/loaders/spritesheetParser.js","name":"baseTexture","original":{"line":42,"column":28},"generated":{"line":1,"column":375}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":43,"column":16},"generated":{"line":1,"column":387}},{"source":"../../src/loaders/spritesheetParser.js","name":"data","original":{"line":43,"column":25},"generated":{"line":1,"column":389}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":44,"column":16},"generated":{"line":1,"column":394}},{"source":"../../src/loaders/spritesheetParser.js","name":"url","original":{"line":44,"column":25},"generated":{"line":1,"column":396}},{"source":"../../src/loaders/spritesheetParser.js","name":"spritesheet","original":{"line":47,"column":12},"generated":{"line":1,"column":401}},{"source":"../../src/loaders/spritesheetParser.js","name":"parse","original":{"line":47,"column":24},"generated":{"line":1,"column":403}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":47,"column":30},"generated":{"line":1,"column":409}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":49,"column":16},"generated":{"line":1,"column":420}},{"source":"../../src/loaders/spritesheetParser.js","name":"spritesheet","original":{"line":49,"column":25},"generated":{"line":1,"column":422}},{"source":"../../src/loaders/spritesheetParser.js","name":"spritesheet","original":{"line":49,"column":39},"generated":{"line":1,"column":434}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":50,"column":16},"generated":{"line":1,"column":436}},{"source":"../../src/loaders/spritesheetParser.js","name":"textures","original":{"line":50,"column":25},"generated":{"line":1,"column":438}},{"source":"../../src/loaders/spritesheetParser.js","name":"spritesheet","original":{"line":50,"column":36},"generated":{"line":1,"column":447}},{"source":"../../src/loaders/spritesheetParser.js","name":"textures","original":{"line":50,"column":48},"generated":{"line":1,"column":449}},{"source":"../../src/loaders/spritesheetParser.js","name":"next","original":{"line":51,"column":16},"generated":{"line":1,"column":458}},{"source":"../../src/loaders/spritesheetParser.js","name":"next","original":{"line":18,"column":12},"generated":{"line":1,"column":472}},{"source":"../../src/loaders/spritesheetParser.js","name":"getResourcePath","original":{"line":57,"column":16},"generated":{"line":1,"column":486}},{"source":"../../src/loaders/spritesheetParser.js","name":"getResourcePath","original":{"line":57,"column":16},"generated":{"line":1,"column":502}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":504}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":508}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":510}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":518}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":537}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":539}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":547}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":561}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":563}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":571}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":57,"column":7},"generated":{"line":1,"column":633}},{"source":"../../src/loaders/spritesheetParser.js","name":"getResourcePath","original":{"line":57,"column":16},"generated":{"line":1,"column":642}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":57,"column":32},"generated":{"line":1,"column":644}},{"source":"../../src/loaders/spritesheetParser.js","name":"baseUrl","original":{"line":57,"column":42},"generated":{"line":1,"column":646}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":649}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":60,"column":8},"generated":{"line":1,"column":656}},{"source":"../../src/loaders/spritesheetParser.js","name":"isDataUrl","original":{"line":60,"column":17},"generated":{"line":1,"column":658}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":62,"column":15},"generated":{"line":1,"column":668}},{"source":"../../src/loaders/spritesheetParser.js","name":"data","original":{"line":62,"column":24},"generated":{"line":1,"column":670}},{"source":"../../src/loaders/spritesheetParser.js","name":"meta","original":{"line":62,"column":29},"generated":{"line":1,"column":675}},{"source":"../../src/loaders/spritesheetParser.js","name":"image","original":{"line":62,"column":34},"generated":{"line":1,"column":680}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":686}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":688}},{"source":"../../src/loaders/spritesheetParser.js","name":"resolve","original":{"line":65,"column":15},"generated":{"line":1,"column":696}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":65,"column":23},"generated":{"line":1,"column":704}},{"source":"../../src/loaders/spritesheetParser.js","name":"url","original":{"line":65,"column":32},"generated":{"line":1,"column":706}},{"source":"../../src/loaders/spritesheetParser.js","name":"replace","original":{"line":65,"column":36},"generated":{"line":1,"column":710}},{"source":"../../src/loaders/spritesheetParser.js","name":"baseUrl","original":{"line":65,"column":44},"generated":{"line":1,"column":718}},{"source":"../../src/loaders/spritesheetParser.js","name":null,"original":{"line":65,"column":53},"generated":{"line":1,"column":720}},{"source":"../../src/loaders/spritesheetParser.js","name":"resource","original":{"line":65,"column":58},"generated":{"line":1,"column":724}},{"source":"../../src/loaders/spritesheetParser.js","name":"data","original":{"line":65,"column":67},"generated":{"line":1,"column":726}},{"source":"../../src/loaders/spritesheetParser.js","name":"meta","original":{"line":65,"column":72},"generated":{"line":1,"column":731}},{"source":"../../src/loaders/spritesheetParser.js","name":"image","original":{"line":65,"column":77},"generated":{"line":1,"column":736}}],"sources":{"../../src/loaders/spritesheetParser.js":"import { Resource } from 'resource-loader';\nimport url from 'url';\nimport { Spritesheet } from '../core';\n\nexport default function ()\n{\n    return function spritesheetParser(resource, next)\n    {\n        const imageResourceName = `${resource.name}_image`;\n\n        // skip if no data, its not json, it isn't spritesheet data, or the image resource already exists\n        if (!resource.data\n            || resource.type !== Resource.TYPE.JSON\n            || !resource.data.frames\n            || this.resources[imageResourceName]\n        )\n        {\n            next();\n\n            return;\n        }\n\n        const loadOptions = {\n            crossOrigin: resource.crossOrigin,\n            metadata: resource.metadata.imageMetadata,\n            parentResource: resource,\n        };\n\n        const resourcePath = getResourcePath(resource, this.baseUrl);\n\n        // load the image for this sheet\n        this.add(imageResourceName, resourcePath, loadOptions, function onImageLoad(res)\n        {\n            if (res.error)\n            {\n                next(res.error);\n\n                return;\n            }\n\n            const spritesheet = new Spritesheet(\n                res.texture.baseTexture,\n                resource.data,\n                resource.url\n            );\n\n            spritesheet.parse(() =>\n            {\n                resource.spritesheet = spritesheet;\n                resource.textures = spritesheet.textures;\n                next();\n            });\n        });\n    };\n}\n\nexport function getResourcePath(resource, baseUrl)\n{\n    // Prepend url path unless the resource image is a data url\n    if (resource.isDataUrl)\n    {\n        return resource.data.meta.image;\n    }\n\n    return url.resolve(resource.url.replace(baseUrl, ''), resource.data.meta.image);\n}\n"},"lineCount":null}},"error":null,"hash":"a6a814c3ba6d74725d6110292c866bdb","cacheData":{"env":{}}}