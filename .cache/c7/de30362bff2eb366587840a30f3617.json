{"id":"lVSe","dependencies":[{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\prepare\\canvas\\CanvasPrepare.js.map","includedInParent":true,"mtime":1674916213344},{"name":"C:\\Github\\Symphonic-AI\\package.json","includedInParent":true,"mtime":1724703272135},{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1674916212608},{"name":"../../core","loc":{"line":5,"column":20,"index":63},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\prepare\\canvas\\CanvasPrepare.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\index.js"},{"name":"../BasePrepare","loc":{"line":9,"column":28,"index":151},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\prepare\\canvas\\CanvasPrepare.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\prepare\\BasePrepare.js"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var e=require(\"../../core\"),t=o(e),r=require(\"../BasePrepare\"),n=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=16,l=function(e){function t(r){i(this,t);var n=c(this,e.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement(\"canvas\"),n.canvas.width=u,n.canvas.height=u,n.ctx=n.canvas.getContext(\"2d\"),n.registerUploadHook(f),n}return s(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(n.default);function f(e,r){if(r instanceof t.BaseTexture){var n=r.source,a=0===n.width?e.canvas.width:Math.min(e.canvas.width,n.width),o=0===n.height?e.canvas.height:Math.min(e.canvas.height,n.height);return e.ctx.drawImage(n,0,0,a,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}exports.default=l,t.CanvasRenderer.registerPlugin(\"prepare\",l);"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":39}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":41}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":49}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"core","original":{"line":1,"column":12},"generated":{"line":1,"column":63}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":70}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":72}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":80}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":881}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"CANVAS_START_SIZE","original":{"line":4,"column":6},"generated":{"line":1,"column":885}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":4,"column":26},"generated":{"line":1,"column":887}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"CanvasPrepare","original":{"line":18,"column":21},"generated":{"line":1,"column":890}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":904}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":913}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"renderer","original":{"line":23,"column":16},"generated":{"line":1,"column":915}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":918}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":920}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":925}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":928}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":932}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":934}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":936}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":941}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":943}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":948}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"renderer","original":{"line":25,"column":14},"generated":{"line":1,"column":953}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":957}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":964}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"uploadHookHelper","original":{"line":27,"column":13},"generated":{"line":1,"column":966}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":983}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":985}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":34,"column":13},"generated":{"line":1,"column":987}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"document","original":{"line":34,"column":22},"generated":{"line":1,"column":994}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"createElement","original":{"line":34,"column":31},"generated":{"line":1,"column":1003}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":34,"column":45},"generated":{"line":1,"column":1017}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":1027}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":35,"column":13},"generated":{"line":1,"column":1029}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"width","original":{"line":35,"column":20},"generated":{"line":1,"column":1036}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"CANVAS_START_SIZE","original":{"line":35,"column":28},"generated":{"line":1,"column":1042}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":1044}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":36,"column":13},"generated":{"line":1,"column":1046}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"height","original":{"line":36,"column":20},"generated":{"line":1,"column":1053}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"CANVAS_START_SIZE","original":{"line":36,"column":29},"generated":{"line":1,"column":1060}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":1062}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"ctx","original":{"line":43,"column":13},"generated":{"line":1,"column":1064}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":43,"column":19},"generated":{"line":1,"column":1068}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":43,"column":24},"generated":{"line":1,"column":1070}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"getContext","original":{"line":43,"column":31},"generated":{"line":1,"column":1077}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":43,"column":42},"generated":{"line":1,"column":1088}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":1094}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"registerUploadHook","original":{"line":46,"column":13},"generated":{"line":1,"column":1096}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"uploadBaseTextures","original":{"line":46,"column":32},"generated":{"line":1,"column":1115}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":1118}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"destroy","original":{"line":53,"column":4},"generated":{"line":1,"column":1146}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1165}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1167}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"destroy","original":{"line":55,"column":14},"generated":{"line":1,"column":1177}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1185}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1190}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":56,"column":8},"generated":{"line":1,"column":1196}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"ctx","original":{"line":56,"column":13},"generated":{"line":1,"column":1201}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":56,"column":19},"generated":{"line":1,"column":1205}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1210}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":57,"column":13},"generated":{"line":1,"column":1215}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":57,"column":22},"generated":{"line":1,"column":1222}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1242}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"uploadBaseTextures","original":{"line":70,"column":9},"generated":{"line":1,"column":1251}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":70,"column":28},"generated":{"line":1,"column":1253}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"item","original":{"line":70,"column":37},"generated":{"line":1,"column":1255}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":1258}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"item","original":{"line":72,"column":8},"generated":{"line":1,"column":1261}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"core","original":{"line":72,"column":24},"generated":{"line":1,"column":1274}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"BaseTexture","original":{"line":72,"column":29},"generated":{"line":1,"column":1276}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":1288}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1289}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"image","original":{"line":74,"column":14},"generated":{"line":1,"column":1293}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"item","original":{"line":74,"column":22},"generated":{"line":1,"column":1295}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"source","original":{"line":74,"column":27},"generated":{"line":1,"column":1297}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"imageWidth","original":{"line":79,"column":14},"generated":{"line":1,"column":1304}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":79,"column":43},"generated":{"line":1,"column":1306}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"image","original":{"line":79,"column":27},"generated":{"line":1,"column":1310}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"width","original":{"line":79,"column":33},"generated":{"line":1,"column":1312}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":79,"column":47},"generated":{"line":1,"column":1318}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":79,"column":55},"generated":{"line":1,"column":1320}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"width","original":{"line":79,"column":62},"generated":{"line":1,"column":1327}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"Math","original":{"line":79,"column":70},"generated":{"line":1,"column":1333}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"min","original":{"line":79,"column":75},"generated":{"line":1,"column":1338}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":79,"column":79},"generated":{"line":1,"column":1342}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":79,"column":87},"generated":{"line":1,"column":1344}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"width","original":{"line":79,"column":94},"generated":{"line":1,"column":1351}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"image","original":{"line":79,"column":101},"generated":{"line":1,"column":1357}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"width","original":{"line":79,"column":107},"generated":{"line":1,"column":1359}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"imageHeight","original":{"line":80,"column":14},"generated":{"line":1,"column":1366}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":80,"column":45},"generated":{"line":1,"column":1368}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"image","original":{"line":80,"column":28},"generated":{"line":1,"column":1372}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"height","original":{"line":80,"column":34},"generated":{"line":1,"column":1374}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":80,"column":49},"generated":{"line":1,"column":1381}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":80,"column":57},"generated":{"line":1,"column":1383}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"height","original":{"line":80,"column":64},"generated":{"line":1,"column":1390}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"Math","original":{"line":80,"column":73},"generated":{"line":1,"column":1397}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"min","original":{"line":80,"column":78},"generated":{"line":1,"column":1402}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":80,"column":82},"generated":{"line":1,"column":1406}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":80,"column":90},"generated":{"line":1,"column":1408}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"height","original":{"line":80,"column":97},"generated":{"line":1,"column":1415}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"image","original":{"line":80,"column":105},"generated":{"line":1,"column":1422}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"height","original":{"line":80,"column":111},"generated":{"line":1,"column":1424}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1432}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":84,"column":8},"generated":{"line":1,"column":1439}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"ctx","original":{"line":84,"column":16},"generated":{"line":1,"column":1441}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"drawImage","original":{"line":84,"column":20},"generated":{"line":1,"column":1445}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"image","original":{"line":84,"column":30},"generated":{"line":1,"column":1455}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":84,"column":37},"generated":{"line":1,"column":1457}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":84,"column":40},"generated":{"line":1,"column":1459}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"imageWidth","original":{"line":84,"column":43},"generated":{"line":1,"column":1461}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"imageHeight","original":{"line":84,"column":55},"generated":{"line":1,"column":1463}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":84,"column":68},"generated":{"line":1,"column":1465}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":84,"column":71},"generated":{"line":1,"column":1467}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":84,"column":74},"generated":{"line":1,"column":1469}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":84,"column":82},"generated":{"line":1,"column":1471}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"width","original":{"line":84,"column":89},"generated":{"line":1,"column":1478}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"prepare","original":{"line":84,"column":96},"generated":{"line":1,"column":1484}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"canvas","original":{"line":84,"column":104},"generated":{"line":1,"column":1486}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"height","original":{"line":84,"column":111},"generated":{"line":1,"column":1493}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1502}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":89,"column":4},"generated":{"line":1,"column":1504}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":1511}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"CanvasPrepare","original":{"line":18,"column":21},"generated":{"line":1,"column":1529}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"core","original":{"line":92,"column":0},"generated":{"line":1,"column":1531}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"CanvasRenderer","original":{"line":92,"column":5},"generated":{"line":1,"column":1533}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"registerPlugin","original":{"line":92,"column":20},"generated":{"line":1,"column":1548}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":null,"original":{"line":92,"column":35},"generated":{"line":1,"column":1563}},{"source":"../../../src/prepare/canvas/CanvasPrepare.js","name":"CanvasPrepare","original":{"line":92,"column":46},"generated":{"line":1,"column":1573}}],"sources":{"../../../src/prepare/canvas/CanvasPrepare.js":"import * as core from '../../core';\nimport BasePrepare from '../BasePrepare';\n\nconst CANVAS_START_SIZE = 16;\n\n/**\n * The prepare manager provides functionality to upload content to the GPU\n * This cannot be done directly for Canvas like in WebGL, but the effect can be achieved by drawing\n * textures to an offline canvas.\n * This draw call will force the texture to be moved onto the GPU.\n *\n * An instance of this class is automatically created by default, and can be found at renderer.plugins.prepare\n *\n * @class\n * @extends PIXI.prepare.BasePrepare\n * @memberof PIXI.prepare\n */\nexport default class CanvasPrepare extends BasePrepare\n{\n    /**\n     * @param {PIXI.CanvasRenderer} renderer - A reference to the current renderer\n     */\n    constructor(renderer)\n    {\n        super(renderer);\n\n        this.uploadHookHelper = this;\n\n        /**\n        * An offline canvas to render textures to\n        * @type {HTMLCanvasElement}\n        * @private\n        */\n        this.canvas = document.createElement('canvas');\n        this.canvas.width = CANVAS_START_SIZE;\n        this.canvas.height = CANVAS_START_SIZE;\n\n        /**\n         * The context to the canvas\n        * @type {CanvasRenderingContext2D}\n        * @private\n        */\n        this.ctx = this.canvas.getContext('2d');\n\n        // Add textures to upload\n        this.registerUploadHook(uploadBaseTextures);\n    }\n\n    /**\n     * Destroys the plugin, don't use after this.\n     *\n     */\n    destroy()\n    {\n        super.destroy();\n        this.ctx = null;\n        this.canvas = null;\n    }\n\n}\n\n/**\n * Built-in hook to upload PIXI.Texture objects to the GPU.\n *\n * @private\n * @param {*} prepare - Instance of CanvasPrepare\n * @param {*} item - Item to check\n * @return {boolean} If item was uploaded.\n */\nfunction uploadBaseTextures(prepare, item)\n{\n    if (item instanceof core.BaseTexture)\n    {\n        const image = item.source;\n\n        // Sometimes images (like atlas images) report a size of zero, causing errors on windows phone.\n        // So if the width or height is equal to zero then use the canvas size\n        // Otherwise use whatever is smaller, the image dimensions or the canvas dimensions.\n        const imageWidth = image.width === 0 ? prepare.canvas.width : Math.min(prepare.canvas.width, image.width);\n        const imageHeight = image.height === 0 ? prepare.canvas.height : Math.min(prepare.canvas.height, image.height);\n\n        // Only a small subsections is required to be drawn to have the whole texture uploaded to the GPU\n        // A smaller draw can be faster.\n        prepare.ctx.drawImage(image, 0, 0, imageWidth, imageHeight, 0, 0, prepare.canvas.width, prepare.canvas.height);\n\n        return true;\n    }\n\n    return false;\n}\n\ncore.CanvasRenderer.registerPlugin('prepare', CanvasPrepare);\n"},"lineCount":null}},"error":null,"hash":"f401799b72f8d81057e1f3b9cc02b030","cacheData":{"env":{}}}