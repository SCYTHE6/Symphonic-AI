{"id":"AVkB","dependencies":[{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\renderers\\webgl\\filters\\Filter.js.map","includedInParent":true,"mtime":1674916212878},{"name":"C:\\Github\\Symphonic-AI\\package.json","includedInParent":true,"mtime":1724703272135},{"name":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1674916212608},{"name":"./extractUniformsFromSrc","loc":{"line":7,"column":38,"index":647},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\renderers\\webgl\\filters\\Filter.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\renderers\\webgl\\filters\\extractUniformsFromSrc.js"},{"name":"../../../utils","loc":{"line":11,"column":21,"index":779},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\renderers\\webgl\\filters\\Filter.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\utils\\index.js"},{"name":"../../../const","loc":{"line":13,"column":21,"index":820},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\renderers\\webgl\\filters\\Filter.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\const.js"},{"name":"../../../settings","loc":{"line":15,"column":24,"index":864},"parent":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\renderers\\webgl\\filters\\Filter.js","resolved":"C:\\Github\\Symphonic-AI\\node_modules\\pixi.js\\lib\\core\\settings.js"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),r=require(\"./extractUniformsFromSrc\"),t=u(r),i=require(\"../../../utils\"),o=require(\"../../../const\"),n=require(\"../../../settings\"),a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}var l={},c=function(){function r(e,n,u){for(var c in s(this,r),this.vertexSrc=e||r.defaultVertexSrc,this.fragmentSrc=n||r.defaultFragmentSrc,this._blendMode=o.BLEND_MODES.NORMAL,this.uniformData=u||(0,t.default)(this.vertexSrc,this.fragmentSrc,\"projectionMatrix|uSampler\"),this.uniforms={},this.uniformData)this.uniforms[c]=this.uniformData[c].value,this.uniformData[c].type&&(this.uniformData[c].type=this.uniformData[c].type.toLowerCase());this.glShaders={},l[this.vertexSrc+this.fragmentSrc]||(l[this.vertexSrc+this.fragmentSrc]=(0,i.uid)()),this.glShaderKey=l[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return r.prototype.apply=function(e,r,t,i,o){e.applyFilter(this,r,t,i)},e(r,[{key:\"blendMode\",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:\"defaultVertexSrc\",get:function(){return[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform mat3 projectionMatrix;\",\"uniform mat3 filterMatrix;\",\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"void main(void){\",\"   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\",\"   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\",\"   vTextureCoord = aTextureCoord ;\",\"}\"].join(\"\\n\")}},{key:\"defaultFragmentSrc\",get:function(){return[\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"uniform sampler2D uSampler;\",\"uniform sampler2D filterSampler;\",\"void main(void){\",\"   vec4 masky = texture2D(filterSampler, vFilterCoord);\",\"   vec4 sample = texture2D(uSampler, vTextureCoord);\",\"   vec4 color;\",\"   if(mod(vFilterCoord.x, 1.0) > 0.5)\",\"   {\",\"     color = vec4(1.0, 0.0, 0.0, 1.0);\",\"   }\",\"   else\",\"   {\",\"     color = vec4(0.0, 1.0, 0.0, 1.0);\",\"   }\",\"   gl_FragColor = mix(sample, masky, 0.5);\",\"   gl_FragColor *= sample.a;\",\"}\"].join(\"\\n\")}}]),r}();exports.default=c;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":284}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":286}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":294}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":329}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":331}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":339}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":357}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":359}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":367}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":385}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":387}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":395}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":568}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"SOURCE_KEY_MAP","original":{"line":6,"column":6},"generated":{"line":1,"column":572}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":6,"column":23},"generated":{"line":1,"column":574}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"Filter","original":{"line":14,"column":21},"generated":{"line":1,"column":577}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":590}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":599}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"vertexSrc","original":{"line":21,"column":16},"generated":{"line":1,"column":601}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"fragmentSrc","original":{"line":21,"column":27},"generated":{"line":1,"column":603}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniforms","original":{"line":21,"column":40},"generated":{"line":1,"column":605}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":608}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":50,"column":13},"generated":{"line":1,"column":612}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"i","original":{"line":50,"column":19},"generated":{"line":1,"column":616}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":621}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":623}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":628}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":631}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"vertexSrc","original":{"line":28,"column":13},"generated":{"line":1,"column":636}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"vertexSrc","original":{"line":28,"column":25},"generated":{"line":1,"column":646}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"Filter","original":{"line":28,"column":38},"generated":{"line":1,"column":649}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"defaultVertexSrc","original":{"line":28,"column":45},"generated":{"line":1,"column":651}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":668}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"fragmentSrc","original":{"line":35,"column":13},"generated":{"line":1,"column":673}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"fragmentSrc","original":{"line":35,"column":27},"generated":{"line":1,"column":685}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"Filter","original":{"line":35,"column":42},"generated":{"line":1,"column":688}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"defaultFragmentSrc","original":{"line":35,"column":49},"generated":{"line":1,"column":690}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":709}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"_blendMode","original":{"line":37,"column":13},"generated":{"line":1,"column":714}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":37,"column":26},"generated":{"line":1,"column":725}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":37,"column":26},"generated":{"line":1,"column":727}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"NORMAL","original":{"line":37,"column":38},"generated":{"line":1,"column":739}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":746}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniformData","original":{"line":39,"column":13},"generated":{"line":1,"column":751}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniforms","original":{"line":39,"column":27},"generated":{"line":1,"column":763}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":39,"column":39},"generated":{"line":1,"column":767}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":39,"column":39},"generated":{"line":1,"column":769}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":39,"column":39},"generated":{"line":1,"column":771}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":39,"column":62},"generated":{"line":1,"column":780}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"vertexSrc","original":{"line":39,"column":67},"generated":{"line":1,"column":785}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":39,"column":78},"generated":{"line":1,"column":795}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"fragmentSrc","original":{"line":39,"column":83},"generated":{"line":1,"column":800}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":39,"column":96},"generated":{"line":1,"column":812}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":841}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniforms","original":{"line":48,"column":13},"generated":{"line":1,"column":846}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":48,"column":24},"generated":{"line":1,"column":855}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":50,"column":24},"generated":{"line":1,"column":858}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniformData","original":{"line":50,"column":29},"generated":{"line":1,"column":863}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":875}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniforms","original":{"line":52,"column":17},"generated":{"line":1,"column":880}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"i","original":{"line":52,"column":26},"generated":{"line":1,"column":889}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":52,"column":31},"generated":{"line":1,"column":892}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniformData","original":{"line":52,"column":36},"generated":{"line":1,"column":897}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"i","original":{"line":52,"column":48},"generated":{"line":1,"column":909}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"value","original":{"line":52,"column":51},"generated":{"line":1,"column":912}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":918}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniformData","original":{"line":53,"column":21},"generated":{"line":1,"column":923}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"i","original":{"line":53,"column":33},"generated":{"line":1,"column":935}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"type","original":{"line":53,"column":36},"generated":{"line":1,"column":938}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":55,"column":16},"generated":{"line":1,"column":945}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniformData","original":{"line":55,"column":21},"generated":{"line":1,"column":950}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"i","original":{"line":55,"column":33},"generated":{"line":1,"column":962}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"type","original":{"line":55,"column":36},"generated":{"line":1,"column":965}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":55,"column":43},"generated":{"line":1,"column":970}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"uniformData","original":{"line":55,"column":48},"generated":{"line":1,"column":975}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"i","original":{"line":55,"column":60},"generated":{"line":1,"column":987}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"type","original":{"line":55,"column":63},"generated":{"line":1,"column":990}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"toLowerCase","original":{"line":55,"column":68},"generated":{"line":1,"column":995}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":1010}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"glShaders","original":{"line":61,"column":13},"generated":{"line":1,"column":1015}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":61,"column":25},"generated":{"line":1,"column":1025}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"SOURCE_KEY_MAP","original":{"line":64,"column":13},"generated":{"line":1,"column":1028}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":64,"column":28},"generated":{"line":1,"column":1030}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"vertexSrc","original":{"line":64,"column":33},"generated":{"line":1,"column":1035}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":64,"column":45},"generated":{"line":1,"column":1045}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"fragmentSrc","original":{"line":64,"column":50},"generated":{"line":1,"column":1050}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"SOURCE_KEY_MAP","original":{"line":66,"column":12},"generated":{"line":1,"column":1065}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":1067}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"vertexSrc","original":{"line":66,"column":32},"generated":{"line":1,"column":1072}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":66,"column":44},"generated":{"line":1,"column":1082}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"fragmentSrc","original":{"line":66,"column":49},"generated":{"line":1,"column":1087}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":66,"column":64},"generated":{"line":1,"column":1101}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":66,"column":64},"generated":{"line":1,"column":1103}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":66,"column":64},"generated":{"line":1,"column":1105}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1113}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"glShaderKey","original":{"line":69,"column":13},"generated":{"line":1,"column":1118}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"SOURCE_KEY_MAP","original":{"line":69,"column":27},"generated":{"line":1,"column":1130}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":69,"column":42},"generated":{"line":1,"column":1132}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"vertexSrc","original":{"line":69,"column":47},"generated":{"line":1,"column":1137}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":69,"column":59},"generated":{"line":1,"column":1147}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"fragmentSrc","original":{"line":69,"column":64},"generated":{"line":1,"column":1152}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":78,"column":8},"generated":{"line":1,"column":1165}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"padding","original":{"line":78,"column":13},"generated":{"line":1,"column":1170}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":78,"column":23},"generated":{"line":1,"column":1178}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1180}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"resolution","original":{"line":86,"column":13},"generated":{"line":1,"column":1185}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":86,"column":26},"generated":{"line":1,"column":1196}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":86,"column":26},"generated":{"line":1,"column":1198}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"FILTER_RESOLUTION","original":{"line":86,"column":35},"generated":{"line":1,"column":1206}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1224}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"enabled","original":{"line":93,"column":13},"generated":{"line":1,"column":1229}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":93,"column":23},"generated":{"line":1,"column":1238}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1240}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"autoFit","original":{"line":101,"column":13},"generated":{"line":1,"column":1245}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":101,"column":23},"generated":{"line":1,"column":1254}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"apply","original":{"line":115,"column":4},"generated":{"line":1,"column":1275}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"filterManager","original":{"line":115,"column":10},"generated":{"line":1,"column":1290}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"input","original":{"line":115,"column":25},"generated":{"line":1,"column":1292}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"output","original":{"line":115,"column":32},"generated":{"line":1,"column":1294}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"clear","original":{"line":115,"column":40},"generated":{"line":1,"column":1296}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"currentState","original":{"line":115,"column":47},"generated":{"line":1,"column":1298}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"filterManager","original":{"line":122,"column":8},"generated":{"line":1,"column":1301}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"applyFilter","original":{"line":122,"column":22},"generated":{"line":1,"column":1303}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":122,"column":34},"generated":{"line":1,"column":1315}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"input","original":{"line":122,"column":40},"generated":{"line":1,"column":1320}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"output","original":{"line":122,"column":47},"generated":{"line":1,"column":1322}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"clear","original":{"line":122,"column":55},"generated":{"line":1,"column":1324}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":135,"column":8},"generated":{"line":1,"column":1365}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":135,"column":15},"generated":{"line":1,"column":1372}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"_blendMode","original":{"line":135,"column":20},"generated":{"line":1,"column":1377}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"value","original":{"line":138,"column":18},"generated":{"line":1,"column":1402}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":140,"column":8},"generated":{"line":1,"column":1405}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"_blendMode","original":{"line":140,"column":13},"generated":{"line":1,"column":1410}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"value","original":{"line":140,"column":26},"generated":{"line":1,"column":1421}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":151,"column":8},"generated":{"line":1,"column":1466}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":151,"column":15},"generated":{"line":1,"column":1472}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":152,"column":12},"generated":{"line":1,"column":1473}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":153,"column":12},"generated":{"line":1,"column":1507}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":155,"column":12},"generated":{"line":1,"column":1539}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":156,"column":12},"generated":{"line":1,"column":1572}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":158,"column":12},"generated":{"line":1,"column":1601}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":159,"column":12},"generated":{"line":1,"column":1631}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":161,"column":12},"generated":{"line":1,"column":1660}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":162,"column":12},"generated":{"line":1,"column":1679}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":163,"column":12},"generated":{"line":1,"column":1766}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":164,"column":12},"generated":{"line":1,"column":1836}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":165,"column":12},"generated":{"line":1,"column":1873}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"join","original":{"line":166,"column":10},"generated":{"line":1,"column":1878}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":166,"column":15},"generated":{"line":1,"column":1883}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":177,"column":8},"generated":{"line":1,"column":1932}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":177,"column":15},"generated":{"line":1,"column":1938}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":178,"column":12},"generated":{"line":1,"column":1939}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":179,"column":12},"generated":{"line":1,"column":1969}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":181,"column":12},"generated":{"line":1,"column":1998}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":182,"column":12},"generated":{"line":1,"column":2028}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":184,"column":12},"generated":{"line":1,"column":2063}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":185,"column":12},"generated":{"line":1,"column":2082}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":186,"column":12},"generated":{"line":1,"column":2140}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":187,"column":12},"generated":{"line":1,"column":2195}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":188,"column":12},"generated":{"line":1,"column":2212}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":189,"column":12},"generated":{"line":1,"column":2252}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":190,"column":12},"generated":{"line":1,"column":2259}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":191,"column":12},"generated":{"line":1,"column":2300}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":192,"column":12},"generated":{"line":1,"column":2307}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":193,"column":12},"generated":{"line":1,"column":2317}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":194,"column":12},"generated":{"line":1,"column":2324}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":195,"column":12},"generated":{"line":1,"column":2365}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":197,"column":12},"generated":{"line":1,"column":2372}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":198,"column":12},"generated":{"line":1,"column":2417}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":199,"column":12},"generated":{"line":1,"column":2448}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"join","original":{"line":200,"column":10},"generated":{"line":1,"column":2453}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":null,"original":{"line":200,"column":15},"generated":{"line":1,"column":2458}},{"source":"../../../../../src/core/renderers/webgl/filters/Filter.js","name":"Filter","original":{"line":14,"column":21},"generated":{"line":1,"column":2489}}],"sources":{"../../../../../src/core/renderers/webgl/filters/Filter.js":"import extractUniformsFromSrc from './extractUniformsFromSrc';\nimport { uid } from '../../../utils';\nimport { BLEND_MODES } from '../../../const';\nimport settings from '../../../settings';\n\nconst SOURCE_KEY_MAP = {};\n\n// let math = require('../../../math');\n/**\n * @class\n * @memberof PIXI\n * @extends PIXI.Shader\n */\nexport default class Filter\n{\n    /**\n     * @param {string} [vertexSrc] - The source of the vertex shader.\n     * @param {string} [fragmentSrc] - The source of the fragment shader.\n     * @param {object} [uniforms] - Custom uniforms to use to augment the built-in ones.\n     */\n    constructor(vertexSrc, fragmentSrc, uniforms)\n    {\n        /**\n         * The vertex shader.\n         *\n         * @member {string}\n         */\n        this.vertexSrc = vertexSrc || Filter.defaultVertexSrc;\n\n        /**\n         * The fragment shader.\n         *\n         * @member {string}\n         */\n        this.fragmentSrc = fragmentSrc || Filter.defaultFragmentSrc;\n\n        this._blendMode = BLEND_MODES.NORMAL;\n\n        this.uniformData = uniforms || extractUniformsFromSrc(this.vertexSrc, this.fragmentSrc, 'projectionMatrix|uSampler');\n\n        /**\n         * An object containing the current values of custom uniforms.\n         * @example <caption>Updating the value of a custom uniform</caption>\n         * filter.uniforms.time = performance.now();\n         *\n         * @member {object}\n         */\n        this.uniforms = {};\n\n        for (const i in this.uniformData)\n        {\n            this.uniforms[i] = this.uniformData[i].value;\n            if (this.uniformData[i].type)\n            {\n                this.uniformData[i].type = this.uniformData[i].type.toLowerCase();\n            }\n        }\n\n        // this is where we store shader references..\n        // TODO we could cache this!\n        this.glShaders = {};\n\n        // used for caching.. sure there is a better way!\n        if (!SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc])\n        {\n            SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc] = uid();\n        }\n\n        this.glShaderKey = SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc];\n\n        /**\n         * The padding of the filter. Some filters require extra space to breath such as a blur.\n         * Increasing this will add extra width and height to the bounds of the object that the\n         * filter is applied to.\n         *\n         * @member {number}\n         */\n        this.padding = 4;\n\n        /**\n         * The resolution of the filter. Setting this to be lower will lower the quality but\n         * increase the performance of the filter.\n         *\n         * @member {number}\n         */\n        this.resolution = settings.FILTER_RESOLUTION;\n\n        /**\n         * If enabled is true the filter is applied, if false it will not.\n         *\n         * @member {boolean}\n         */\n        this.enabled = true;\n\n        /**\n         * If enabled, PixiJS will fit the filter area into boundaries for better performance.\n         * Switch it off if it does not work for specific shader.\n         *\n         * @member {boolean}\n         */\n        this.autoFit = true;\n    }\n\n    /**\n     * Applies the filter\n     *\n     * @param {PIXI.FilterManager} filterManager - The renderer to retrieve the filter from\n     * @param {PIXI.RenderTarget} input - The input render target.\n     * @param {PIXI.RenderTarget} output - The target to output to.\n     * @param {boolean} clear - Should the output be cleared before rendering to it\n     * @param {object} [currentState] - It's current state of filter.\n     *        There are some useful properties in the currentState :\n     *        target, filters, sourceFrame, destinationFrame, renderTarget, resolution\n     */\n    apply(filterManager, input, output, clear, currentState) // eslint-disable-line no-unused-vars\n    {\n        // --- //\n        //  this.uniforms.filterMatrix = filterManager.calculateSpriteMatrix(tempMatrix, window.panda );\n\n        // do as you please!\n\n        filterManager.applyFilter(this, input, output, clear);\n\n        // or just do a regular render..\n    }\n\n    /**\n     * Sets the blendmode of the filter\n     *\n     * @member {number}\n     * @default PIXI.BLEND_MODES.NORMAL\n     */\n    get blendMode()\n    {\n        return this._blendMode;\n    }\n\n    set blendMode(value) // eslint-disable-line require-jsdoc\n    {\n        this._blendMode = value;\n    }\n\n    /**\n     * The default vertex shader source\n     *\n     * @static\n     * @constant\n     */\n    static get defaultVertexSrc()\n    {\n        return [\n            'attribute vec2 aVertexPosition;',\n            'attribute vec2 aTextureCoord;',\n\n            'uniform mat3 projectionMatrix;',\n            'uniform mat3 filterMatrix;',\n\n            'varying vec2 vTextureCoord;',\n            'varying vec2 vFilterCoord;',\n\n            'void main(void){',\n            '   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);',\n            '   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;',\n            '   vTextureCoord = aTextureCoord ;',\n            '}',\n        ].join('\\n');\n    }\n\n    /**\n     * The default fragment shader source\n     *\n     * @static\n     * @constant\n     */\n    static get defaultFragmentSrc()\n    {\n        return [\n            'varying vec2 vTextureCoord;',\n            'varying vec2 vFilterCoord;',\n\n            'uniform sampler2D uSampler;',\n            'uniform sampler2D filterSampler;',\n\n            'void main(void){',\n            '   vec4 masky = texture2D(filterSampler, vFilterCoord);',\n            '   vec4 sample = texture2D(uSampler, vTextureCoord);',\n            '   vec4 color;',\n            '   if(mod(vFilterCoord.x, 1.0) > 0.5)',\n            '   {',\n            '     color = vec4(1.0, 0.0, 0.0, 1.0);',\n            '   }',\n            '   else',\n            '   {',\n            '     color = vec4(0.0, 1.0, 0.0, 1.0);',\n            '   }',\n            // '   gl_FragColor = vec4(mod(vFilterCoord.x, 1.5), vFilterCoord.y,0.0,1.0);',\n            '   gl_FragColor = mix(sample, masky, 0.5);',\n            '   gl_FragColor *= sample.a;',\n            '}',\n        ].join('\\n');\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"eafd848f1df8b90b13a0d7bd05b907d7","cacheData":{"env":{}}}